<template name="functions">

  <h2 class="page-header">Functions</h2>

  <div class="row">

    <div class="col-md-4">
      <div class="panel panel-primary">
        <div class="panel-heading">New function</div>
        <div class="panel-body">
          <p>Create a new function</p>
          <a class="btn btn-primary" href="{{pathFor 'functions.add'}}" role="button">Add function</a>
        </div>
      </div>
    </div>

    {{#each functions}}
      {{>functionsTableItem}}
    {{/each}}
  </div>

</template>

<template name="functionsTableItem">

  <div class="col-md-4">
    <div class="panel panel-default">
      <div class="panel-heading"><a href="{{pathFor 'functions.edit'}}">{{name}}</a></div>
      <div class="panel-body">
        <p>{{createdAt}}</p>
        <a class="btn btn-default" href="{{pathFor 'functions.edit'}}">Edit</a>
        <a class="btn btn-danger remove-item" href="#">Remove</a>
      </div>
    </div>
  </div>

</template>

<template name="functionsAdd">
  {{#autoForm collection="Functions" id="templateForm" type="insert"}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>

<template name="functionsEdit">
  {{#autoForm collection="Functions" id="templateForm" type="update" doc=function}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>
