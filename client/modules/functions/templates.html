<template name="functions">
  <h2 class="page-header">Functions</h2>
  <div class="row">
    <div class="col-md-12">
      <p>
        Create a new function
        <a class="btn btn-primary" href="{{pathFor 'functions.add'}}" role="button">Add function</a>
      </p>
    </div>
    <div class="col-md-12">
      <table class="table table-condensed table-striped table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Created at</th>
            <th>Options</th>
          </tr>
        </thead>
        <tbody>
          {{#each functions}}
            {{>functionsTableItem}}
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name="functionsTableItem">
  <tr>
    <td>{{name}}</td>
    <td>{{createdAt}}</td>
    <td>
      <a class="btn btn-xs btn-default" href="{{pathFor 'functions.edit'}}">Edit</a>
      <a class="btn btn-xs btn-danger remove-item" href="#">Remove</a>
    </td>
  </tr>
</template>

<template name="functionsAdd">
  {{#autoForm collection="Functions" id="templateForm" type="insert"}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>

<template name="functionsEdit">
  {{#autoForm collection="Functions" id="templateForm" type="update" doc=function}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>

<template name="templates">
  <h2 class="page-header">Templates</h2>
  <div class="row">
    <div class="col-md-12">
      <p>
        Create a new template
        <a class="btn btn-primary" href="{{pathFor 'templates.add'}}" role="button">Add template</a>
      </p>
    </div>
    <div class="col-md-12">
      <table class="table table-condensed table-striped table-bordered">
        <thead>
          <tr>
            <th>Name</th>
            <th>Created at</th>
            <th>Options</th>
          </tr>
        </thead>
        <tbody>
          {{#each templates}}
            {{> templatesTableItem}}
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name="templatesTableItem">
  <tr>
    <td>{{name}}</td>
    <td>{{createdAt}}</td>
    <td>
      <a class="btn btn-xs btn-default" href="{{pathFor 'templates.edit'}}">Edit</a>
      <a class="btn btn-xs btn-danger remove-item" href="#">Remove</a>
    </td>
  </tr>
</template>

<template name="templatesAdd">
  {{#autoForm collection="Templates" id="templateForm" type="insert"}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Save</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>

<template name="templatesEdit">
  {{#autoForm collection="Templates" id="templateForm" type="update" doc=template}}
    <div class="col-xs-3">
      {{> afQuickField name='name' class='form-control'}}
      {{> afQuickField name='libraries'}}
      <button type="submit" class="btn btn-primary">Update</button>
      <a href="{{pathFor 'templates.index'}}" class="btn btn-danger pull-right">Exit</a>
    </div>
    <div class="col-xs-9">
      {{> afQuickField name='code'}}
    </div>
  {{/autoForm}}
</template>
